<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D File Explorer Portfolio</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <style>
        /* Custom font import */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=IBM+Plex+Mono:wght@400;600&display=swap');
        
        /* --- Root Variables & Base --- */
        :root {
            --bg-body: #0c1422;
            --bg-container: #172033;
            --text-light: #f1f5f9;
            --text-muted: #94a3b8;
            --accent-color: #06b6d4; /* Cyan 500 */
            
            --max-zoom-dim: 60vh; 
            --initial-box-size: 300px; 
            --transition-speed: 0.8s;
            
            --border-start-size: 15px; /* Not used for animations anymore, but kept for reference */
            --border-end-size: 5px;   /* Not used for animations anymore, but kept for reference */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body); 
            color: var(--text-light); 
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            perspective: 1500px;
            position: relative;
        }
        
        /* --- Background Overlay for V2 (Click to close) --- */
        #v2-overlay-background {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.7); /* Semi-transparent dark overlay */
            opacity: 0;
            pointer-events: none;
            transition: opacity var(--transition-speed);
            z-index: 40; /* Below V2 content, above V1 content */
        }
        #v2-overlay-background.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* --- Global Hidden State for V2 Content (Off-Screen and Transparent) --- */
        .v2-content-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            width: var(--max-zoom-dim);
            height: var(--max-zoom-dim);
            background-color: var(--bg-container);
            border-radius: 1rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            
            /* Initial Hidden State (Off-screen, scaled down, and transparent) */
            transform: translate(-50%, -50%) scale(0.5); 
            opacity: 0;
            pointer-events: none;
            overflow: hidden; /* For initial state, will be auto when active */
            
            transition: all var(--transition-speed) cubic-bezier(0.86, 0, 0.07, 1);
            z-index: 50; 
        }

        /* --- V2 Active State --- */
        .v2-content-wrapper.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            pointer-events: auto;
            overflow-y: auto; /* Enable scrolling for content when active */
        }

        /* --- Title/Bio Element --- */
        #title-bio {
            position: absolute;
            top: 15%; 
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 600px;
            text-align: center;
            z-index: 10;
            transition: opacity var(--transition-speed);
        }

        /* --- Main Layout: V1 View --- */
        #app-container {
            display: flex;
            width: 100%;
            max-width: calc(var(--initial-box-size) * 2 + 4rem);
            height: var(--initial-box-size);
            gap: 2rem;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-speed) cubic-bezier(0.86, 0, 0.07, 1);
        }
        
        .panel {
            background-color: var(--bg-container);
            border-radius: 1rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            position: relative;
            overflow: hidden; 
            transition: all var(--transition-speed) cubic-bezier(0.86, 0, 0.07, 1);
            
            width: var(--initial-box-size);
            height: var(--initial-box-size);
            flex-shrink: 0;
            
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .initial-content { transition: opacity 0.3s; width: 100%; z-index: 1; }
        
        /* The .focused-content divs are now truly empty placeholders, can be removed from HTML or kept for structure. */
        .focused-content { display: none; } 

        /* --- Animation Overlay (Removed, but keeping class for cleanup if needed in JS) --- */
        .loading-overlay { display: none; } 
        
        /* --- V2 Layout & Styles --- */
        .v2-content-inner { padding: 3rem; }
        
        /* FIX for overlapping: Re-add essential display properties for sub-panels */
        .sub-panel {
            background-color: var(--bg-body); 
            border-radius: 0.75rem; 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); 
            min-height: 150px; min-width: 150px; padding: 1rem; transition: all 0.3s; 
            
            /* Crucial: Restore flexbox properties for proper grid layout */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .sub-panel .initial-content { 
            opacity: 1; pointer-events: auto; 
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center; 
            width: 100%; height: 100%; 
        }

        /* Layout Optimization: Increase density (4 columns, smaller gap) */
        .v2-content-inner .grid {
            grid-template-columns: repeat(4, minmax(0, 1fr));
            gap: 1.25rem;
        }
        
        .sub-panel:hover { box-shadow: 0 0 15px rgba(6, 182, 212, 0.5); transform: scale(1.03); }
        .sub-panel h3 { font-size: 1.1rem; margin-top: 0.5rem; } 
        .sub-panel p { font-size: 0.7rem; color: var(--text-muted); } 
    </style>
</head>
<body id="body-main">
    
    <!-- TOP-LEVEL V1 ELEMENT: TITLE / BIO --><div id="title-bio">
        <h1 class="text-6xl font-extrabold tracking-tight mb-2 text-cyan-400">
            [DATA SCIENCE STUDENT]
        </h1>
        <p class="text-xl font-light text-gray-300">
            UK Data Science Student | Analyzing data with R & Python.
        </p>
    </div>

    <!-- BACKGROUND OVERLAY for V2 content - clickable to close --><div id="v2-overlay-background"></div>

    <!-- TOP-LEVEL V2 ELEMENT: STUFF CONTENT --><div id="stuff-content-v2" class="v2-content-wrapper">
        <div class="v2-content-inner">
            <h1 class="text-4xl font-extrabold tracking-tight mb-12 text-cyan-400 text-center">
                Projects, Experiments & Tools
            </h1>
            <!-- Changed grid-cols-3 to grid-cols-4 and gap-6 to gap-4 (from previous discussion) --><div class="grid grid-cols-4 gap-4">
                <a href="https://github.com/data-proj-1" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-python text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Python: ML Model</h3> <p class="text-gray-400 text-xs">Predictive Classifier</p> </div> </a>
                <a href="https://github.com/r-viz-project" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-chart-line text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">R: Tidy Report</h3> <p class="text-gray-400 text-xs">Statistical Analysis</p> </div> </a>
                <a href="https://github.com/dart-web-tool" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-code text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Dart: Web App</h3> <p class="text-gray-400 text-xs">Flutter Experiment</p> </div> </a>
                <a href="https://github.com/nn-playground" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-brain text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">ML: CNN Demo</h3> <p class="text-gray-400 text-xs">Image Classification</p> </div> </a>
                <a href="https://github.com/personal-scripts" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-robot text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Personal: Linux Scripts</h3> <p class="text-gray-400 text-xs">Bash Automation</p> </div> </a>
                <a href="https://github.com/sql-design" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-database text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">SQL: Database Design</h3> <p class="text-gray-400 text-xs">Schema & Queries</p> </div> </a>
                <a href="https://github.com/css-experiment" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-flask text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Exp: CSS Animation</h3> <p class="text-gray-400 text-xs">Layout Test</p> </div> </a>
                <a href="https://github.com/archive-repo" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-github text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">GitHub: Archive</h3> <p class="text-gray-400 text-xs">Old Code Repo</p> </div> </a>
                <a href="https://github.com/r-package-dev" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-puzzle-piece text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">R: Custom Package</h3> <p class="text-gray-400 text-xs">Data Cleaning Tool</p> </div> </a>
                <a href="https://github.com/linux-tools" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-terminal text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Linux: Terminal Tools</h3> <p class="text-gray-400 text-xs">System Automation</p> </div> </a>
            </div>
        </div>
    </div>

    <!-- TOP-LEVEL V2 ELEMENT: LINKS CONTENT --><div id="links-content-v2" class="v2-content-wrapper">
        <div class="v2-content-inner">
            <h1 class="text-4xl font-extrabold tracking-tight mb-12 text-cyan-400 text-center">
                Professional Links & Contact
            </h1>
            <!-- Changed grid-cols-3 to grid-cols-4 and gap-6 to gap-4 (from previous discussion) --><div class="grid grid-cols-4 gap-4">
                <a href="https://www.linkedin.com/in/datasci-student" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-linkedin text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">LinkedIn</h3> <p class="text-gray-400 text-xs">Professional</p> </div> </a>
                <a href="mailto:datascience.student@email.com" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-envelope text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Email Me</h3> <p class="text-gray-400 text-xs">Direct Contact</p> </div> </a>
                <a href="https://my-cloud-storage.com/cv.pdf" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-file-pdf text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Download CV</h3> <p class="text-gray-400 text-xs">Curriculum Vitae</p> </div> </a>
                <a href="https://github.com/your-datasci-profile" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-github text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">GitHub</h3> <p class="text-gray-400 text-xs">Code Repos</p> </div> </a>
                <a href="https://x.com/datasci_thoughts" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-twitter text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">X / Twitter</h3> <p class="text-gray-400 text-xs">Thoughts</p> </div> </a>
                <a href="https://instagram.com/datasci_visuals" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-instagram text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Instagram</h3> <p class="text-gray-400 text-xs">Visuals</p> </div> </a>
                <a href="https://medium.com/datasci-articles" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-medium text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Medium</h3> <p class="text-gray-400 text-xs">Articles/Essays</p> </div> </a>
                <a href="https://stackoverflow.com/users/datasci-profile" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fab fa-stack-overflow text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Stack Overflow</h3> <p class="text-gray-400 text-xs">Q&A</p> </div> </a>
                <a href="https://bsky.app/datasci_casual" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-feather-alt text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">BlueSky</h3> <p class="text-gray-400 text-xs">Casual</p> </div> </a>
                <a href="https://old-portfolio.com" target="_blank" class="sub-panel" onclick="event.stopPropagation()"> <div class="initial-content w-full"> <i class="fas fa-link text-5xl mb-3 text-cyan-400"></i> <h3 class="text-xl font-bold">Old Site</h3> <p class="text-gray-400 text-xs">Archived Portfolio</p> </div> </a>
            </div>
        </div>
    </div>
    
    <!-- MAIN V1 CONTENT (The two square buttons) --><div id="app-container" class="default-view">
        
        <!-- PANEL 1: STUFF (LEFT) --><div id="stuff-panel" class="panel" 
             data-target="stuff" 
             onclick="focusPanel('stuff')"> <!-- CLICK ONLY --><div class="initial-content w-full">
                <i class="fas fa-archive text-7xl mb-4 text-cyan-500 transition duration-300"></i>
                <h2 class="text-3xl font-bold mb-1">Stuff</h2>
                <p class="text-gray-400 text-sm">Projects, Experiments & Code.</p>
            </div>

            <div class="loading-overlay" id="stuff-overlay"></div> <!-- Removed timer, but keeping div to avoid JS errors --><div class="focused-content"></div> 
        </div>

        <!-- PANEL 2: SOCIALS (RIGHT) --><div id="links-panel" class="panel" 
             data-target="links" 
             onclick="focusPanel('links')"> <!-- CLICK ONLY --><div class="initial-content w-full">
                <i class="fas fa-user-astronaut text-7xl mb-4 text-cyan-500 transition duration-300"></i>
                <h2 class="text-3xl font-bold mb-1">Socials</h2>
                <p class="text-gray-400 text-sm">View CV, LinkedIn, and contact info.</p>
            </div>
            
            <div class="loading-overlay" id="links-overlay"></div> <!-- Removed timer, but keeping div to avoid JS errors --><div class="focused-content"></div>
        </div>
    </div>
    
    <script>
        const BODY_MAIN = document.getElementById('body-main');
        const APP_CONTAINER = document.getElementById('app-container');
        const TITLE_BIO = document.getElementById('title-bio');
        const V2_OVERLAY_BACKGROUND = document.getElementById('v2-overlay-background');
        
        // V2 Content Containers (New Top-Level Elements)
        const STUFF_V2_CONTAINER = document.getElementById('stuff-content-v2');
        const LINKS_V2_CONTAINER = document.getElementById('links-content-v2');
        
        let activeV2Container = null; // Track which V2 content is active

        /** Zooms into the selected panel on click. */
        window.focusPanel = function(targetId) {
            // 1. Hide V1 elements
            APP_CONTAINER.style.opacity = '0';
            APP_CONTAINER.style.pointerEvents = 'none';
            TITLE_BIO.style.opacity = '0';
            TITLE_BIO.style.pointerEvents = 'none';
            
            // 2. Show V2 content and overlay
            activeV2Container = targetId === 'stuff' ? STUFF_V2_CONTAINER : LINKS_V2_CONTAINER;
            activeV2Container.classList.add('active');
            V2_OVERLAY_BACKGROUND.classList.add('active');
            
            // Add click listener to background to reset
            V2_OVERLAY_BACKGROUND.addEventListener('click', resetFocus);

            // Stop propagation on V2 content itself to prevent background click triggering immediately
            activeV2Container.addEventListener('click', (e) => e.stopPropagation());
        }

        /** Resets the view back to the default layout by clicking outside the V2 content. */
        window.resetFocus = function() {
            // 1. Hide V2 content and overlay
            if (activeV2Container) {
                activeV2Container.classList.remove('active');
                activeV2Container.removeEventListener('click', (e) => e.stopPropagation()); // Remove listener
            }
            V2_OVERLAY_BACKGROUND.classList.remove('active');
            V2_OVERLAY_BACKGROUND.removeEventListener('click', resetFocus); // Remove listener

            // 2. Show V1 elements
            APP_CONTAINER.style.opacity = '1';
            APP_CONTAINER.style.pointerEvents = 'auto';
            TITLE_BIO.style.opacity = '1';
            TITLE_BIO.style.pointerEvents = 'auto';

            activeV2Container = null; // Clear active V2 container
        }
    </script>

</body>
</html>
